---
/**
 * IndexHero - Special hero component for the index page only
 * Combines profile image, header, and hero content in a unique layout
 */
import ProfileImage from "@/components/ProfileImage.astro";
import Header from "@/components/layout/Header.astro";
import { content } from "@/data/content";
import type { ImageMetadata } from "astro";

interface Props {
  profileImage: ImageMetadata;
}

const { profileImage } = Astro.props;
const { hero } = content;
---

<div class="hero">
  <Header class="header" />
  <h1 class="title">{hero.title}</h1>
  <figure class="image">
    <ProfileImage src={profileImage} alt={hero.profileAlt} />
  </figure>
  <div class="intro prose prose--dimmed" set:html={hero.intro} />
</div>

<style>
  .hero {
    display: flex;
    flex-direction: column;

    @media (min-width: 40rem) {
      display: grid;
      row-gap: 0;
      column-gap: var(--space-sm);
      grid-template-columns: repeat(24, 1fr);
    }
  }

  .image {
    display: none;

    @media (min-width: 40rem) {
      display: block;
      align-self: stretch;
      grid-column: 1 / 7;
      grid-row: 1 / 4;
      overflow: hidden;
      border-radius: var(--radius-md);
    }

    :global(picture) {
      display: block;
      block-size: 100%;
    }

    :global(img) {
      display: block;
      inline-size: 100%;
      block-size: 100%;
      object-fit: cover;
    }
  }

  .hero :global(.header) {
    @media (min-width: 40rem) {
      grid-column: 9 / 25;
    }
  }

  .title {
    margin-block-end: var(--space-md);

    @media (min-width: 40rem) {
      grid-column: 9 / 25;
    }
  }

  .intro {
    @media (min-width: 40rem) {
      grid-column: 9 / 25;
    }
  }
</style>
