/* ============================================
   PROSE COMPONENT (Typography for content)
   ============================================ */

.prose {
  max-inline-size: 65ch;
  color: var(--color-text-dimmed);

  /* Links */
  & a {
    color: var(--color-text);
    text-decoration: underline;
    text-decoration-color: var(--color-link);
    text-underline-offset: 2px;
    transition:
      text-decoration-color 0.2s ease,
      text-decoration-thickness 0.2s ease;

    &:hover {
      @media (hover: hover) {
        text-decoration-thickness: 2px;
      }
    }
  }

  /* Headings */
  & h1,
  & h2,
  & h3,
  & h4,
  & h5,
  & h6 {
    margin-block-start: 1.5em;
    margin-block-end: 0.5em;

    & a {
      color: inherit;
      text-decoration: none;
    }
  }

  & p + p {
    margin-block-start: var(--space-sm);
  }

  /* Strong */
  & strong {
    font-weight: var(--font-medium);
  }

  /* Code */
  & code {
    padding: 0.125em 0.25em;
    border: 1px dotted #666;
    border-radius: 2px;
    color: var(--color-text);
    font-family: var(--font-mono);
    font-size: var(--fluid-text-small);
  }

  /* Blockquote */
  & blockquote {
    margin-block: 1.5em;
    padding-inline-start: var(--space-sm);
    border-inline-start: 2px solid var(--color-quote);
    color: var(--color-quote);
    font-style: italic;
  }

  /* Horizontal rule */
  & hr {
    margin-block: 2em;
    border: none;
    border-block-start: 0.5px dashed #666;
  }

  /* Lists */
  & ul,
  & ol {
    margin-block: 1em;
    padding-inline-start: 1.5em;
  }

  & li {
    margin-block: 0.5em;
  }

  /* Tables */
  & table {
    inline-size: 100%;
    margin-block: 1.5em;
    border-collapse: collapse;
  }

  & thead {
    border-block-end: 1px dashed #666;
  }

  & thead th {
    padding: 0.5em;
    color: var(--color-accent-2);
    font-weight: var(--font-medium);
    text-align: start;
  }

  & tbody tr {
    border: none;
  }

  & tbody td {
    padding: 0.5em;
  }

  & tfoot {
    border-block-start: 1px dashed #666;
  }

  & th[align="center"],
  & td[align="center"] {
    text-align: center;
  }

  & th[align="right"],
  & td[align="right"] {
    text-align: end;
  }

  & th[align="left"],
  & td[align="left"] {
    text-align: start;
  }

  /* Superscript (footnotes) */
  & sup {
    margin-inline-start: var(--space-xs);

    & a {
      &::before {
        content: "[";
      }

      &::after {
        content: "]";
      }

      &:hover {
        @media (hover: hover) {
          color: var(--color-link);
        }
      }
    }
  }

  /* Special content blocks */
  & .expressive-code,
  & .admonition,
  & .github-card {
    margin-block: var(--space-lg);
  }

  /* Images */
  & img {
    display: block;
    margin-block: var(--space-xl);
    margin-inline: auto;
    border-radius: 0.375rem;
  }

  /* Figures with captions */
  & figure {
    margin-block: var(--space-xl);
    margin-inline: 0;
  }

  & figure img {
    margin-block: 0;
  }

  & figcaption {
    margin-block-start: var(--space-xs);
    color: var(--color-text-dimmed);
    font-size: var(--fluid-text-small);
    text-align: center;
  }
}

/* Prose size variants */

.prose--dimmed {
  p,
  li {
    color: var(--color-text-dimmed);
  }
}
