/* ============================================
   HEADER LAYOUT
   ============================================ */

.header {
  position: relative;
  display: flex;
  align-items: center;
  margin-block-end: var(--space-xl);
}

.header__brand {
  display: flex;

  @media (--sm) {
    flex-direction: column;
  }
}

.header__logo-link {
  display: inline-flex;
  align-items: center;
  transition: opacity 0.2s ease;

  &:hover {
    opacity: 0.8;
  }

  @media (--sm) {
    position: relative;
    display: inline-block;
  }
}

.header__logo {
  width: 1.5rem;
  height: 2.5rem;
  margin-inline-end: var(--space-sm);

  @media (--sm) {
    position: absolute;
    inset-inline-start: -4.5rem;
    width: 3rem;
    height: 5rem;
    margin-inline-end: 0;
  }
}

.header__profile {
  width: 2rem;
  height: 2rem;
  margin-inline-end: var(--space-sm);
  border-radius: 50%;
  object-fit: cover;

  @media (--sm) {
    width: 3rem;
    height: 3rem;
  }
}

.header__title {
  font-size: var(--fluid-text-h3);
  line-height: var(--leading-h3);
  font-weight: var(--font-medium);
}

.header__nav {
  position: absolute;
  inset-inline: -1rem;
  inset-block-start: 3.5rem;
  display: none;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--space-md);
  padding-block: var(--space-md);
  background-color: color-mix(in srgb, var(--color-bg) 85%, transparent);
  border-radius: 0.375rem;
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  backdrop-filter: blur(8px);

  .header.header--menu-open & {
    display: flex;
    z-index: 50;
  }

  @media (--sm) {
    position: static;
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 0;
    margin-inline-start: -1rem;
    margin-block-start: var(--space-sm);
    padding-block: 0;
    background-color: transparent;
    border-radius: 0;
    box-shadow: none;
    backdrop-filter: none;
    z-index: auto;

    & > * + * {
      border-inline-start: 1px solid var(--color-accent);
    }
  }
}

.header__nav-link {
  padding: var(--space-sm);
  text-decoration: underline;
  text-underline-offset: 2px;
  text-decoration-color: transparent;
  transition: text-decoration-color 0.2s ease;

  &:hover {
    text-decoration-color: currentColor;
  }

  @media (--sm) {
    padding-block: 0;
    padding-inline: var(--space-sm);
  }

  &[aria-current="page"] {
    font-weight: var(--font-medium);
  }
}

.header__menu-toggle {
  position: relative;
  width: 1.75rem;
  height: 1.75rem;
  margin-inline-start: var(--space-sm);
  padding: 0;
  background: transparent;
  border: none;
  border-radius: 0.375rem;

  @media (--sm) {
    visibility: hidden;
    display: none;
  }
}

.header__menu-icon {
  position: absolute;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
  transition:
    scale 0.2s ease,
    opacity 0.2s ease;
}

.header__menu-icon--close {
  scale: 0;
  opacity: 0;
  color: var(--color-accent);

  .header__menu-toggle[aria-expanded="true"] & {
    scale: 1;
    opacity: 1;
  }
}

.header__menu-icon--open {
  scale: 1;
  opacity: 1;

  .header__menu-toggle[aria-expanded="true"] & {
    scale: 0;
    opacity: 0;
  }
}
